<html>
<head>
<link href="css/Inconsolata.css" rel="stylesheet">
<link href="css/sprawl.css" rel="stylesheet">
<link href="css/alertify.css" rel="stylesheet">
<link id="page_favicon" href="data:image/x-icon;base64,R0lGODlhEAAQAPAAAAAAAAAAACH5BAkKAAEAIf8LTkVUU0NBUEUyLjADAQAAACwAAAAAEAAQAAAC50wSEREREUIIIYQQQgAAABAEQRAEQRAAQBAAQQAAQRAEQQAEARAEARAIAAKBQCAACAQCAUAgEAgAAoFAABAABAIBQCAQAAQAgUAAEAgEAgFAIBAIBACBQAAACAQCAUAgEBAAABAQEAAQEBAQEBAQEBAQEAAQEBAAEAAQEBAQEBAQABAAEBAQEAAQEBAQEBAQEBAAEBAQEBAAEBAAEBAQABAQABAQEBAQEAAAEBAAEBAAABAQEBAQEBAQEAAAAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQIECAAAEKAAAh+QQJCgABACwAAAAAEAAQAAAC50wSEREREUIIIYQQQgAAABAEQRAEQRAAQBAAQQAAQRAEQQAEARAEARAIAAKBQCAACAQCgQAgEAgAAoFAABAABAKBACAQAAQAgUAAEAgEAgFAIBAIBACBQAAACAQCAUAgEBAAABAQEAAQEBAQEBAQEBAQEAAQEBAAEAAQEBAQEBAQABAAEBAQEAAQEBAQEBAQEBAAEBAQEBAAEBAAEBAQABAQABAQEBAQEAAAEBAAEBAAABAQEBAQEBAQEAAAAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQIECAAAEKAAAh+QQJCgABACwAAAAAEAAQAAAC50wSEREREUIIIYQQQgAAABAEQRAEQRAAQBAAQQAAQRAEQQAEARAEARAIAAKBQCAACAQCgUAgEAgAAoFAABAABAKBQCAQAAQAgUAAEAgEAoFAAAAIBACBQAAACAQCAQAgEBAAABAQEAAQEBAQEBAQEBAQEAAQEBAAEAAQEBAQEBAQABAAEBAQEAAQEBAQEBAQEBAAEBAQEBAAEBAAEBAQABAQABAQEBAQEAAAEBAAEBAAABAQEBAQEBAQEAAAAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQIECAAAEKAAAh+QQJCgABACwAAAAAEAAQAAAC50wSEREREUIIIYQQQgAAABAEQRAEQRAAQBAAQQAAQRAEQQAEARAEARAIAAKBQCAACAQCgUAgEAgAAoFAABAABAKBQCAQAAQAgUAAEAgEAoFAIBAIBACBQAAACAQCAQAAABAAABAQEAAQEBAQEBAQEBAQEAAQEBAAEAAQEBAQEBAQABAAEBAQEAAQEBAQEBAQEBAAEBAQEBAAEBAAEBAQABAQABAQEBAQEAAAEBAAEBAAABAQEBAQEBAQEAAAAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQIECAAAEKAAAh+QQJCgABACwAAAAAEAAQAAAC50wSEREREUIIIYQQQgAAABAEQRAEQRAAQBAAQQAAQRAEQQAEARAEARAIAAKBQCAACAQCgUAgEAgAAoFAABAABAKBQCAQAAQAgUAAEAgEAoFAIBAIBACBQAAACAQCAQAgEBAAABAQEAAQEBAQEBAQAAAQEAAQEBAAEAAQEBAQEBAQABAAEBAQEAAQEBAQEBAQEBAAEBAQEBAAEBAAEBAQABAQABAQEBAQEAAAEBAAEBAAABAQEBAQEBAQEAAAAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQIECAAAEKAAAh+QQJCgABACwAAAAAEAAQAAAC50wSEREREUIIIYQQQgAAABAEQRAEQRAAQBAAQQAAQRAEQQAEARAEARAIAAKBQCAACAQCgUAgEAgAAoFAABAABAKBQCAQAAQAgUAAEAgEAoFAIBAIBACBQAAACAQCAUAgEBAAABAQEAAQEBAQEAAQEBAQEAAQEBAAEAAQEBAQABAQABAAEBAQEAAQEBAQEAAQEBAAEBAQEBAAEBAAEBAQABAQABAQEBAQEAAAEBAAEBAAABAQEBAQEBAQEAAAAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQIECAAAEKAAAh+QQJCgABACwAAAAAEAAQAAAC50wSEREREUIIIYQQQgAAABAEQRAEQRAAQBAAQQAAQRAEQQAEARAEARAIAAKBQCAACAQCgUAgEAgAAoFAABAABAKBQCAQAAQAgUAAEAgEAoFAIBAIBACBQAAACAQCAUAgEBAAABAQEAAQEBAQEAAQEBAQEAAQEBAAEAAQEBAAEBAQABAAEBAQEAAQEBAQABAQEBAAEBAQEBAAEBAAEBAQABAQABAQEBAQEAAAEBAAEBAAABAQEBAQEBAQEAAAAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQIECAAAEKAAAh+QQJCgABACwAAAAAEAAQAAAC50wSEREREUIIIYQQQgAAABAEQRAEQRAAQBAAQQAAQRAEQQAEARAEARAIAAKBQCAACAQCgUAgEAgAAoFAABAABAKBQCAQAAQAgUAAEAgEAoFAIBAIBACBQAAACAQCAUAgEBAAABAQEAAQEBAQEAAQEBAQEAAQEBAAEAAQEAAQEBAQABAAEBAQEAAQEBAAEBAQEBAAEBAQEBAAEBAAEBAQABAQABAQEBAQEAAAEBAAEBAAABAQEBAQEBAQEAAAAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQIECAAAEKAAAh+QQJCgABACwAAAAAEAAQAAAC50wSEREREUIIIYQQQgAAABAEQRAEQRAAQBAAQQAAQRAEQQAEARAEARAIAAKBQCAACAQCgUAgEAgAAoFAABAABAKBQCAQAAQAgUAAEAgEAoFAIBAIBACBQAAACAQCAEAgEBAAABAQEAAQEAAAEBAQEBAQEAAQEBAAEAAQEBAQEBAQABAAEBAQEAAQEBAQEBAQEBAAEBAQEBAAEBAAEBAQABAQABAQEBAQEAAAEBAAEBAAABAQEBAQEBAQEAAAAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQIECAAAEKAAAh+QQJCgABACwAAAAAEAAQAAAC50wSEREREUIIIYQQQgAAABAEQRAEQRAAQBAAQQAAQRAEQQAEARAEARAIAAKBQCAACAQCgUAgEAgAAoFAABAABAKBQCAQAAQAgUAAEAgEAoFAIBAIBACBQAAACAAAAEAgEBAAABAQEAAQEBAQEBAQEBAQEAAQEBAAEAAQEBAQEBAQABAAEBAQEAAQEBAQEBAQEBAAEBAQEBAAEBAAEBAQABAQABAQEBAQEAAAEBAAEBAAABAQEBAQEBAQEAAAAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQIECAAAEKAAAh+QQJCgABACwAAAAAEAAQAAAC50wSEREREUIIIYQQQgAAABAEQRAEQRAAQBAAQQAAQRAEQQAEARAEARAIAAKBQCAACAQCgUAgEAgAAoFAABAABAKBQCAQAAQAgUAAEAgAAIFAIBAIBACBQAAACAQCAEAgEBAAABAQEAAQEBAQEBAQEBAQEAAQEBAAEAAQEBAQEBAQABAAEBAQEAAQEBAQEBAQEBAAEBAQEBAAEBAAEBAQABAQABAQEBAQEAAAEBAAEBAAABAQEBAQEBAQEAAAAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQIECAAAEKAAAh+QQJCgABACwAAAAAEAAQAAAC50wSEREREUIIIYQQQgAAABAEQRAEQRAAQBAAQQAAQRAEQQAEARAEARAIAAKBQCAACAQCgEAgEAgAAoFAABAABAKAQCAQAAQAgUAAEAgEAgFAIBAIBACBQAAACAQCAUAgEBAAABAQEAAQEBAQEBAQEBAQEAAQEBAAEAAQEBAQEBAQABAAEBAQEAAQEBAQEBAQEBAAEBAQEBAAEBAAEBAQABAQABAQEBAQEAAAEBAAEBAAABAQEBAQEBAQEAAAAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQIECAAAEKAAA7" rel="icon" type="image/x-icon">
<title>The Big Board</title>

<style>


#loading {
   width: 100%;
   height: 100%;
   top: 0px;
   left: 0px;
   position: fixed;
   opacity: 0.7;
   background-color: #000000;
   z-index: 99;
   text-align: center;
}

#loading-content {
  position: absolute;
  top: 50%;
  left: 50%;
  text-align: center;
  z-index: 100;
}

.hide{
  display: none;
}

/* div.crew-clock {  */
/*     opacity:0; */
/* } */

/* div#crew-clocks div:crew-clock:first-child  {  */
/*     opacity:1; */
/* } */


.Crm {
	width:1280px; 
	height:720px;
    padding: .8em 1em 0;
    border-radius: 3px;
	border-style:solid; 
	border-color:white; 
	overflow:hidden;     
}


.Aligner {
  display: flex;
  align-items: center;
  min-height: 720px;
  justify-content: center;
}

.Aligner-item {
  flex: 1;
}

.Aligner-item--top {
  align-self: flex-start;
}

.Aligner-item--bottom {
  align-self: flex-end;
}

.Aligner-item--fixed {
  flex: none;
  max-width: 50%;
}



</style>


</head>
<body>

<script type='text/javascript' src='script/jquery-3.0.0.min.js'></script>
<script type='text/javascript' src='script/knockout-3.4.0.js'></script>
<script type='text/javascript' src='script/clock-ko-components.js'></script>
<script type='text/javascript' src='script/clock-sa-ko.js'></script>
<script type='text/javascript' src='script/alertify.min.js'></script>
<script type='text/javascript' src='script/Storage.js'></script>
<script type='text/javascript' src='script/chromecast.js'></script>
<script type="text/javascript" src="//www.gstatic.com/cv/js/sender/v1/cast_sender.js"></script>


<script>
//   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
//   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
//   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
//   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

//   ga('create', 'UA-1395087-7', 'auto');
//   ga('send', 'pageview');

</script>


<script>

var storage = new Storage('clocks');
var sprawl = new SprawlVM("", storage);

var j = 0;
var delay = 2000; //millisecond delay between cycles

// var cycleThru = function(){
// 	var jmax = $(".crew-clock").length -1;
// 	$(".crew-clock:eq(" + j + ")")
// 	        .animate({"opacity" : "1"} ,400)
// 	        .animate({"opacity" : "1"}, delay)
// 	        .animate({"opacity" : "0"}, 400, function(){
// 	                (j == jmax) ? j=0 : j++;
// 	        }
// 	);
// };

// var cycleThru2 = function(){
// 	var jmax = sprawl.clocks().length;
// 	var numPages = Math.ceil(jmax/sprawl.NUM_PER_PAGE) -1;
//     if (j >= numPages){
//     	j=0 }
//     else {
//     	j++;
//     }
	
//     console.log("page: " + j);
// 	sprawl.page(j);
// };


$().ready(function(){
	// get the colcks JSON out of html5 storage

	sprawl.load();
	
	ko.applyBindings(sprawl);

//     setInterval(cycleThru2, delay + 800);

});
</script>

<h1>The Big Board</h1>
<h2> MC's Eyes Only</h2>
<fieldset style="float:left;">
	<legend>Countdown Clocks</legend>	
	<div data-bind="foreach: clocks">
		<mc-clock-widget params="sprawl:sprawl, name: name, value: level"></mc-clock-widget>
	</div>
	<br>
	<hr style="width:50em; border-color:black">
	<button class="button" data-bind="click: add">Add Clock</button>
	<button class="button" data-bind="click: clear">Clear All</button>
</fieldset>

<p  style="clear:both;">
<HR>



<p  style="clear:both;">

<div class="Crm">
<div class="Aligner">
  <div class="Aligner-item Aligner-item--top"></div>
  <div class="Aligner-item">
  	<div data-bind='template: { foreach: clocksToShow, beforeRemove: hideClock, afterAdd: showClock }'>
		<crew-clock-widget params="name: name, value: level"></crew-clock-widget>
	</div>
  </div>
  <div class="Aligner-item Aligner-item--bottom"></div>
</div>
<!-- <fieldset style="float:left;"> -->
<!-- 	<legend>Countdown Clocks</legend> -->
	
<!-- 	<hr style="width:50em; border-color:black"> -->
<!-- </fieldset> -->
</div>

<div id="loading" class="hide">
	<div id="loading-content">Syncing...</div>
</div>
</body>
</html>